---
title: Linux命令大全
tags: Linux 常用命令
layout: post
---

## 一、文件、目录操作

* ### 查看目录下的文件

`ls [选项] [目录名]`

示例：

```shell
ls /mydata #查看/mydata目录下的所有文件和文件夹
ls -a /mydata #查看所有文件(包括隐藏文件)
ls -l /mydata #查看文件的完整信息(包括创建日期、权限等)
```

* ### 进入目录

`cd [目录名]`

* ### 查询当前所在目录

`pwd`

* ### 创建目录

`mkdir [选项] [目录名]`

示例：

```shell
mkdir dir1 #在当前目录下，创建dir1目录
mkdir -p dir1/dir2/dir3 #创建多级目录
```

* ### 删除文件和目录

`rm [选项] [目录名或文件名]`

示例：

```shell
rm hi.txt #删除文件
rm -r dir1 #递归删除dir目录及其中的所有子目录和文件
rm -f hi.txt #强制删除文件，不弹出提示信息
```

* ### 移动、重命名文件或目录

`mv [选项] [源文件或目录名称] [目标文件或目录名称]`

示例：

```shell
mv hi.txt hello.txt #重命名文件
mv 1.txt 2.txt 3.txt dir1 #移动多个文件到目录中
```

* ### 复制文件或目录

`cp [选项] [源文件或目录名称] [目标目录名称]`

示例：

```shell
cp 1.txt dir1
```

* ### 输出文件内容

`cat [选项] [文件名]`

示例：

```shell
cat -n 1.txt #输出文件内容，增加行号
```

　

`more [选项] [文件名]`

示例：

```shell
more +10 1.txt #从第10行开始输出
more -5 1.txt #每页输出5行
```

输出的过程中，按`ctrl+f`可以向下滚动一页，按`ctrl+b`可以返回上一页，按`q`可以退出`more`。

　

`less [选项] [文件名]`，它和`more`的区别是可以随意浏览文件内容，而`more`只能向后浏览。

示例：

```shell
less -m 1.txt #输出的同时显示百分比
less -N 1.txt #显示行号
```

输出的过程中，按`f`可以向下滚动一页，按`b`可以向上滚动一页。

　

`head [选项] [文件名]`，输出文件内容的前n行

示例：

```shell
head -5 1.txt #输出前5行
```

　

`tail [选项] [文件名]`，输出文件内容的后n行

示例：

```shell
tail -n 5 1.txt #输出后5行
tail -n 5 -f 1.txt #持续监测后5行的输出
```

## 二、文件查找

* ### 命令查找

`which [可执行文件名称]` 

示例：

```shell
which pwd #查找pwd命令文件的位置
```

* ### 文件、目录查找

`find [选项] [搜索路径]`

示例：

```shell
find . -name '*.txt' #查找当前目录下(包含子目录)的所有以.txt结尾的文件、目录
find /mydata ! -name '*.java' #查找/mydata目录下的所有不以.java结尾的文件、目录
```

* ### 正则搜索

`| grep [选项] [搜索条件]`

示例：

```shell
cat 1.txt | grep hello #搜索1.txt中所有包含hello的行
cat 1.txt | grep -i hello #忽略大小写
cat 1.txt | grep -n hello #输出行号
cat 1.txt | grep -c hello #计算hello出现的次数
```

## 三、文件打包与压缩

* ### 打包、解打包

`tar [选项] [文件名]`

示例：

```shell
tar -cvf 1.txt 2.txt 3.txt 123.tar #将三个txt文件打包为123.tar文件
tar -xvf 123.tar #将123.tar包解开为三个文件
```

* ### 压缩、解压缩

`tar [选项] [压缩文件名] [源文件名]`

示例：

```shell
tar -zcvf 123.tar.gz 1.txt 2.txt 3.txt #将三个txt文件压缩为一个123.tar.gz文件
tar -zxvf 123.tar.gz #将123.tar.gz文件解压缩
```

## 四、文件权限设置

* ### 文件权限介绍

使用`ls -l [文件名]`可以查看文件的完整信息，其中包括文件的权限。比如：

```
rwxrw-r-x
```

文件权限一共9位，前三位代表文件所有者的权限，中间三位代表文件所属组的权限，后三位代表其他人的权限。`r`代表读权限，`w`代表写权限、`x`代表执行权限。`r、w、x`所对应的数字分别是`4、2、1`，因此`rwxrw-r-x`也可以表示为`765`。

* ### 修改文件权限

`chmod [权限] [文件名]`

示例：

```shell
chmod 777 1.txt #通过数字修改权限
chmod u=rwx,g=rw,o=r 1.txt #通过字符修改权限，u、g、o分别代表文件所有者、所属组、其他人
```

## 五、性能监控

`top`

示例：

```shell
top #查看进程id、CPU占用率、内存占用率
top -p 758 #查看pid为758的进程
top -u zyg #查看用户为zyg的进程
```

## 六、网络相关

* ### 查询监听端口

`lsof [选项]`

示例：

```shell
lsof -i #显示所有网络连接
lsof -i -P #显示所有网络连接，端口号全部用数字表示
lsof -i:3306 #仅显示3306端口连接
lsof -i@192.168.154.1 #仅显示和指定主机的连接
lsof -i | grep -i listen #显示所有正在监听的端口
```

