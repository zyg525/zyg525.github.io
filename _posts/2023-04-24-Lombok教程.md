---
title: Lombok教程
tags: 开发工具
---

    lombok是一个编译级别的插件，它可以在项目编译的时候生成一些代码。在项目开发阶段，一个class的属性是一直变化的，今天可能增加一个字段，明天可能删除一个字段。每次变化都需要修改对应的模板代码。另外，有的class的字段超级多，多到一眼看不完。如果加上模板代码，更难一眼看出来。更有甚者，由于字段太多，想要使用builder来创建。手动创建builder和字段和原来的类夹杂在一起，看起来真的难受。lombok的`@Builder`即可解决这个问题。

## 一、使用方法

　　1、引入依赖

```xml
<dependency>
    <groupId>org.projectlombok</groupId>
    <artifactId>lombok</artifactId>
    <version>1.18.2</version>
</dependency>
```

　　2、IDEA中点击 `Settings > Plugins > Browse repositories`，搜索`Lombok Plugin`进行安装，然后重启IDEA。lombok会在编译后的class文件中添加代码，而java文件中不会添加代码，插件的作用是让IDEA在调用java文件中不存在的代码时不报错。

　　3、IDEA中点击`File > Settings > Build > Annotation Processors`，勾选`Enable annotation processing`。

## 二、常用注解

* ### @Getter

　　作用在类或字段上，为所有字段或某个字段生成getter方法。可以指定getter方法的访问权限，默认是public。

```java
@Getter(AccessLevel.PROTECTED) //访问权限为protected
public class Student {...}
```

　　为boolean类型字段生成的getter方法命名方式是`isXXX()`。

* ### @Setter

　　作用在类或字段上，为所有字段或某个字段生成setter方法。可以指定setter方法的访问权限，默认是public。

```java
@Setter(AccessLevel.PROTECTED) //访问权限为protected
public class Student {...}
```

* ### @ToString

　　作用在类上，为所有字段生成`toString()`方法。

* ### @EqualsAndHashCode

　　作用在类上，为该类生成`equals()`和`hashCode()`方法。

* ### @NonNull

　　作用在字段或方法参数上。作用在方法参数上时，编译后在该方法的顶部会对该参数进行非null判断，如果是null则抛出异常；作用在字段上时，当使用lombok为该类生成有参构造方法时，编译后同样在构造方法的顶部会进行非null判断。

* ### @NoArgsConstructor

　　作用在类上，生成无参构造方法。

　　我们知道，final修饰的成员变量不会被分配默认值，必须在声明时给它手动赋值，或者在构造方法中赋值，而且不能存在无参构造方法。所以当使用`@NoArgsConstructor`时，如果存在没有赋值的final类型字段，编译会报错。解决办法是使用``@NoArgsConstructor(force = true)``，此时final字段会在无参构造方法中自动赋值为`0/false/null`。

* ### @RequiredArgsConstructor

　　作用在类上，为final类型和标注了`@NonNull`的字段生成一个有参构造方法。

* ### @AllArgsConstructor

　　作用在类上，为所有字段生成一个有参构造方法。

* ### @Data

　　作用在类上，相当于`@Getter、@Setter、@RequiredArgsConstructor、@ToString、@EqualsAndHashCode`的结合体，为所有字段生成getter、setter方法，生成`toString()`方法，生成`equals()`和`hashCode()`方法，为final类型和标注了`@NonNull`的字段生成一个有参构造方法。

* ### @Builder

　　作用在类、构造方法、普通方法上。当作用在类上时，lombok会使用建造者模式帮我们生成一个内部类，通过这个内部类我们可以自由地构造想要的对象，替代了复杂的构造方法。

　　

本文参考：

1、[lombok使用基础教程](https://www.cnblogs.com/woshimrf/p/lombok-usage.html#gallery-1)

2、[极简代码神器：Lombok使用教程](https://juejin.cn/post/6844903960222892040#heading-0)
